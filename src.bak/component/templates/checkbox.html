<div class="form-group" ng-class="{'has-error': isErrorDisplayed()}">

  <label for="{{id+'_'+$index}}" class="col-sm-4 control-label"
         ng-class="{required : constraints.required}">{{label}}</label>

  <div class="col-sm-4" ng-switch="layout.orientation">

    <div class="checkbox" ng-repeat="option in options track by option.code" ng-switch-when="vertical">
      <label>
        <input type="checkbox" id="{{id+'_'+$index}}" name="{{id}}" checklist-model="data[id]"
               checklist-value="option.code" ng-value="option.code" ng-disabled="constraints.disabled"
               ng-required="constraints.required && (!data[id] || data[id].length == 0)">{{option.text}}
      </label>
    </div>

    <label class="checkbox-inline" ng-repeat="option in options track by option.code" ng-switch-when="horizontal">
      <input type="checkbox" id="{{id+'_'+$index}}" name="{{id}}" checklist-model="data[id]"
             checklist-value="option.code" ng-value="option.code" ng-disabled="constraints.disabled"
             ng-required="constraints.required && (!data[id] || data[id].length == 0)">{{option.text}}
    </label>

    <div ng-messages="formModel[id].$error" class="message-invalid"
         ng-if="isErrorDisplayed() && constraints.required && (!data[id] || data[id].length == 0)">
      <div class="help-block" ng-message="required">{{localize("error.required_select")}}</div>
    </div>

  </div>

</div>
